"91021"}
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>EasyJet Ramp</title>

<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>

<style>
body{
    font-family: Arial;
    background:#000;
    color:white;
    text-align:center;
    padding:10px;
}
h2{margin:6px;font-size:22px;}
input{
    font-size:26px;
    padding:14px;
    width:200px;
    text-align:center;
    border-radius:12px;
    border:none;
}
button{
    font-size:26px;
    padding:18px;
    margin:8px 0;
    border-radius:12px;
    border:none;
    background:#ff6600;
    color:white;
    width:100%;
}
svg{
    background:white;
    padding:12px;
    margin-top:12px;
    width:100%;
}
</style>
</head>

<body>

<h2>EasyJet â€” Rampa PRO OCR</h2>

<input id="manual" placeholder="1234" maxlength="4" inputmode="numeric">
<button onclick="manualGen()">GENERAR</button>

<input type="file" accept="image/*" capture="environment" id="imgInput">
<button onclick="scanImage()">ESCANEAR FOTO LISTADO</button>

<div id="buttons"></div>
<svg id="barcode"></svg>

<script>

let flights = JSON.parse(localStorage.getItem("flights")) || [];

function saveFlights(){
    localStorage.setItem("flights",JSON.stringify(flights));
}

function vibrate(){
    if(navigator.vibrate) navigator.vibrate(60);
}

function gen(n){
    JsBarcode("#barcode","ESZ"+n+"-11",{
        format:"CODE128",
        width:3,
        height:150,
        displayValue:true
    });
    vibrate();
}

function manualGen(){
    let v=document.getElementById("manual").value;
    if(v.length===4){
        if(!flights.includes(parseInt(v))){
            flights.unshift(parseInt(v));
            flights=flights.slice(0,15);
            saveFlights();
            renderButtons();
        }
        gen(v);
    }
}

function renderButtons(){
    let c=document.getElementById("buttons");
    c.innerHTML="";
    flights.forEach(f=>{
        let b=document.createElement("button");
        b.innerText="ESZ"+f+"-11";
        b.onclick=()=>gen(f);
        c.appendChild(b);
    });
}

async function scanImage(){
    const file=document.getElementById('imgInput').files[0];
    if(!file) return;

    const worker = await Tesseract.createWorker('eng');
    const { data:{ text } } = await worker.recognize(file);

    const matches=text.match(/\d{4}/g);

    if(matches){
        flights=[...new Set(matches.map(Number))];
        saveFlights();
        renderButtons();
        vibrate();
    }

    await worker.terminate();
}

renderButtons();

</script>
</body>
